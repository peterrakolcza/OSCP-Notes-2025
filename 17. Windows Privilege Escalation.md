# Understanding Windows Privileges and Access Control Mechanisms

Privileges define what a Windows account can do (e.g., modify files, add users). Windows uses several mechanisms to control this:

## Security Identifiers (SID)

- Unique values that identify users, groups, and other principals.
- Generated by the Local Security Authority (LSA) for local accounts or by a Domain Controller (DC) for domain accounts.
- Structure: `S-R-X-Y`
    
    - `S`: SID literal
        
    - `R`: Revision (always 1)
        
    - `X`: Identifier authority (commonly 5 for NT Authority)
        
    - `Y`: Sub-authorities (domain ID + Relative ID)
        

Example local user SID:

```
S-1-5-21-1336799502-1441772794-948155058-1001
```

Well-known SIDs:

```
S-1-0-0                       Nobody
S-1-1-0                       Everybody
S-1-5-11                      Authenticated Users
S-1-5-18                      Local System
S-1-5-domainidentifier-500    Administrator
```

## Access Tokens

- Created at authentication to define a userâ€™s **security context**.
- Contain: user SID, group SIDs, privileges, and scope info.
- **Primary token**: assigned to processes/threads.
- **Impersonation token**: lets a thread act under